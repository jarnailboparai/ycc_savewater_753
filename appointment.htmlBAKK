<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Splash Screen</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/jquery.mobile-1.4.0.css" />
<link rel="stylesheet" href="css/theme.css" />
<link rel="stylesheet" href="css/common_layout.css" />
<link rel="stylesheet" href="css/splash.css" />
<link rel="stylesheet" href="css/appointment_form.css" />
<link rel="stylesheet" href="css/squeeze.css" />

<script src="js/jquery_1.9.1.js"></script>
<script src="js/custom.js"></script>
<script src="js/validate.js"></script>
<script src="js/validate_appointment.js"></script>
<!--  Datapicker File Starts here -->
  <link rel="stylesheet" href="js/datepicker/jquery.mobile.datepicker.css" />
  <script src="js/datepicker/jquery.ui.datepicker.js"></script>
  <script src="js/datepicker/jquery.mobile-git.js"></script> 
  <script src="js/datepicker/jquery.mobile.datepicker.js"></script>
<!-- Date Picker ends here -->
<!--  Timepicker File Starts here-->
  <script src="js/timepicker/bootstrap-timepicker.js"></script>
  <script src="js/timepicker/bootstrap-timepicker.min.js"></script>
  <link rel="stylesheet" href="js/timepicker/bootstrap-timepicker.min.css" />
  <link rel="stylesheet" href="js/timepicker/bootstrap-timepicker.min.js" />
<!--  TimePicker ends here-->
<script>
jQuery( document ).bind( "mobileinit", function() {
    // Make your jQuery Mobile framework configuration changes here!

    jQuery.mobile.allowCrossDomainPages = true;

});

$(document).ajaxStart(function() {
    $.mobile.loading('show');
});

$(document).ajaxStop(function() {
    $.mobile.loading('hide');
});

jQuery(document).ready(function(){
	
	jQuery('#module-form-appointment').on('submit',function(e){
		e.preventDefault();
	    var postData = $(this).serialize();
	    var actionUrl = document.getElementById('module-form-appointment');
	 	console.log(actionUrl.action);
		if($("#module-form-appointment").valid())	{
	    $.ajax({
	        type: 'POST',
	       	url: actionUrl.action,
	       	//crossDomain:true, 
	      	dataType:'application/json; charset=utf-8',
	        data: postData,
	        success: function(response){
					
	        	var argtt = response.responseText;
				var arg = JSON.parse(response.responseText);

				if(arg.success==1)
				{
					$('.appointment_form').html("");
					$('.appointment_form').html("<div class='no_data'>Submit Successfully</div>");
				}
				else
				{
					$('.appointment_form').html("");
					$('.appointment_form').html("<div class='no_data'>Error ! Please try after sometime</div>");
				}
	        	//popdetialHideOther(arg);
	        },
	        error: function(response){
				
	        	var argtt = response.responseText;
				var arg = JSON.parse(response.responseText);

				if(arg.success==1)
				{
					$('.appointment_form').hide();
					$('.thankyou_msg').show();
				}
				else
				{
					$('.appointment_form').html("");
					$('.appointment_form').html("<div class='no_data'>Error ! Please try after sometime</div>");
				}
	        	
	        },
	    }); 
	}
	});

	
	
});

</script>
<style type="text/css">
img {
	max-width:100%;
}
</style>
</head>

<body>
<!-- Start of first page -->
<div data-role="page" id="theme_layout" class="theme_bg"> 
  <!-- Splash Screen starts here -->
  
  <!-- Header Starts Here -->
  <div data-role="header"> <a href="index.html" class="refresh_link" data-role="button" rel="external" data-ajax="false" role="button"><img src="images/home_icon.png" alt="home icon" /></a>
    <h1>Appointment Form</h1>
    <a class="help_link"><img src="images/help_icon.png" alt="help icon" /></a> </div>
  <!-- /header ends here --> 
 
  <!-- Appointment page starts here -->
  <div class="appointment_form">
  <div class="squeeze_desc">
	<!--DescriptionEnter-->
  </div>
  <div class="manadatory_notification">All Fields are mandatory</div>
 <form action="<!--url-->" method="POST" id='module-form-appointment'>
  <input type="hidden" name="email_to" value="<!--email_to-->" />
  <input type="text" name="name" placeholder="Name" class="name_ico"  value="" />
  <input type="text" name="email" placeholder="Email" class="email_ico"  value=""/>
  <input type="text" name="appointment_date" placeholder="Appointment Date" class="date-input date_ico" data-inline="false" data-role="date" value=""/>
  <input type="text" name="appointment_time" placeholder="Appointment Time" class="time_ico" id="timepicker1" value="" /><i class="icon-time"></i>
  <input type="text" name="phone" placeholder="Phone" class="phone_ico"  value=""/>
  <textarea name="comments" placeholder="Comments"></textarea>
  <input type="submit" name="submit" value="Confirm" />
 </form>
  </div>
  <div class="appointment_wrap"></div>
  
  <!-- Appointment page ends here -->
  
  
  <!-- thank you message -->
  <div class="thankyou_msg"><!--Thankyou--></div>
  
  <!-- Thankyou message ends here -->
</div>
<!-- /page --> 
<script type="text/javascript">
            $('#timepicker1').timepicker();
</script>
</body>
</html>
